# 工厂方法模式

##### **简单工厂模式的缺点**

在 简单工厂 中，只是把 **判断生成哪个子类** 以及 **创建子类** 两个任务转移到一个工厂类中，
当需要添加新的子类时，需要改动的地方有：
- 新添加一个子类
- 改动客户端代码调用新的子类，这个无可避免
- 改动工厂类，需要增加判断条件，生成新的子类（违背原则）

当子类的数量不多时，简单工厂模式完全够用，但是随着子类的增加，简单工厂模式的弊端就会变得越来越刺眼。

##### **工厂方法模式**
由于简单工厂方法的实现违背了 **封闭-开放原则**，在代码量大时，可以使用工厂方法来代替。
在工厂方法中，**判断生成哪个子类** 的这个任务，又回到了客户端，并且，由于一个子类对应着一个子类工厂类，工厂类的实现再也不用加入任何判断语句。

在 工厂方法模式 下，新添加一个子类的改动的地方有：
- 新添加一个子类
- 新添加一个专门生成该子类的工厂类
- 改动客户端代码，使用新增加的工厂类，生成需要的子类

可以看到，工厂方法模式修补了简单工厂模式打破的设计原则。

例子:
```java
Connection conn=DriverManager.getConnection("jdbc:microsoft:sqlserver://loc
alhost:1433; DatabaseName=DB;user=sa;password=");
Statement statement=conn.createStatement();
ResultSet rs=statement.executeQuery("select * from UserInfo");
```